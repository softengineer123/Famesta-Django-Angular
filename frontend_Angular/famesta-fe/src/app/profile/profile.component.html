<br>
<br>
<br><br>
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
<div class="container">
<div class="content-page">
    <div *ngIf="background_image; else ElseBlock">
        <div class="profile-banner" [ngStyle]="{'background-image': 'url('+ background_image +')'}">
            <div class="col-sm-3 avatar-container">
                <img src="{{ LoggedUser.profile.profile_picture | TransalateImageUrl }}" class="img-circle profile-avatar" alt="User avatar">
            </div>
            <div class="col-sm-12 profile-actions text-right">
                <a href="/edit-profile/{{ LoggedUser.id }}" type="button" class="btn btn-primary btn-sm" style="color:white;background-color: rgb(53, 204, 53);border:none"><span class="icofont-edit"></span> Edit Profile</a>
            </div>
        </div>
    </div>
    <ng-template #ElseBlock>
        <div class="profile-banner" [ngStyle]="{'background-image': 'url(assets/img/hero-bg.jpg)'}">
            <div class="col-sm-3 avatar-container">
                <img src="{{ LoggedUser.profile.profile_picture | TransalateImageUrl }}" class="img-circle profile-avatar" alt="User avatar">
            </div>
            <div class="col-sm-12 profile-actions text-right">
                <a href="/edit-profile/{{ LoggedUser.id }}" type="button" class="btn btn-primary btn-sm" style="color:white;background-color: rgb(53, 204, 53);border:none"><span class="icofont-edit"></span> Edit Profile</a>
            </div>
        </div>
    </ng-template>



    <div class="content">

		<div class="row">
			<div class="col-sm-3">
				<!-- Begin user profile -->
				<div class="text-center user-profile-2" style="margin-top:120px">
					<ul class="list-group">
                      <li class="list-group-item">
                            <h4 style="color:darkblue"><b>{{LoggedUser.profile.full_name | uppercase}}</b></h4>
                            <small style="color:black">{{LoggedUser.username}}</small>
					  </li>
                      <li class="list-group-item" style="color:black">
                        <a class="link" href="" data-toggle="modal" data-target="#basicExampleModal">
                            <span class="badge" style="color:darkblue">{{ followers?.length}}</span>
                            Followers
                        </a>
					  </li>
                      <li class="list-group-item" style="color:black">
                        <a class="link" href="" data-toggle="modal" data-target="#basicExampleModal1">
                            <span class="badge" style="color:darkblue">{{ followings?.length}}</span>
                            Following
                        </a>
                      </li>
                      <li class="list-group-item" style="color:midnightblue">
						<span class="badge" style="color:darkblue">{{posts?.length}}</span>
						Posts
					  </li>
					</ul>
                </div><!-- End div .box-info -->
                <br>
				<!-- Begin user profile -->
			</div><!-- End div .col-sm-4 -->
			
			<div class="col-sm-9">
				<div class="widget widget-tabbed">

					<!-- Tab panes -->
					<div class="tab-content">
						
						
						<!-- Tab timeline -->
						<div class="tab-pane animated active fadeInRight" id="my-timeline">
							<div class="user-profile-content">
								<br>
								<!-- Begin timeline -->
								<div class="the-timeline">
									<form role="form" class="post-to-timeline">
										<textarea class="form-control" style="height: 70px;margin-bottom:10px;" placeholder="Whats on your mind..."></textarea>
										<div class="row">
										<div class="col-sm-6">
											<a class="btn btn-sm btn-default"><i class="fa fa-camera"></i></a>
											<div id="attached-file"></div>
										</div>
										<div class="col-sm-6 text-right"><button type="submit" class="btn btn-primary">Post</button></div>
										</div>
									</form>
                                    <!-- Post will Go here -->
                                    
                                    <!-- ======= Portfolio Section ======= -->
                                    <section id="portfolio" class="portfolio section-bg" style="margin-top:20px">
                                        <div class="container" id="user_post">

                                            <div class="section-title">
                                            <h2 data-aos="fade-in">Post</h2>
                                            <p data-aos="fade-in"></p>
                                            </div>

                                            <div class="row portfolio-container" data-aos="fade-up">

                                                <div *ngFor="let post of posts" class="col-lg-4 col-md-6 portfolio-item filter-web">
                                                    <div class="portfolio-wrap">
                                                        <img src="{{ post.file | TransalateImageUrl }}" class="img-fluid">
                                                        <div class="portfolio-links">
                                                            <a  class="venobox" title="{{post.post_info}}" href="/post-detail/{{post.id}}" ><i class="icofont-link"></i></a>
                                                            <a href="" title="More Details"><i class="icofont-trash"></i></a>
                                                        </div>
                                                    </div>
                                                </div>


                                            </div>

                                        </div>
                                    </section>



								</div><!-- End div .the-timeline -->
								<!-- End timeline -->
							</div><!-- End div .user-profile-content -->
						</div><!-- End div .tab-pane -->
						<!-- End Tab timeline -->
					</div><!-- End div .tab-content -->
                </div><!-- End div .box-info -->
			</div>
		</div>
	</div>	
</div>


<!-- Followers Modal -->
<div class="modal fade" id="basicExampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <p  style="color:black;font-size: 18px;font-weight: bold;margin-left:135px"class="modal-title">Followers</p>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="like-modal" *ngIf="followers?.length > 0; else Else">
                    <div *ngFor="let follower of followers" class="widget-body1">
                        <div class="latest-post-aside media">
                            <div class="lpa-left media-body" style="margin-top:5px">
                                
                                    <div class="profile_pic1"><img src="{{follower.user.profile.profile_picture}}" alt=""><a href="/user/{{follower.user.username}}"><span style="font-size: 12px;font-weight: bold;margin-left:5px;white-space: nowrap;width: 71px;"> {{follower.user.username}}</span></a></div>
                            </div>
                            <div class="lpa-right" style="margin-top:15px;margin-left: 150px;">
                                <a (click)="remove_Follower(LoggedUser.id,follower.user.id)" class="btn btn-primary btn-sm" style="color:white;padding-left: 10px;padding-right: 10px;"><span class="icofont-close-line">Remove</span></a>
                            </div>
                        </div>
                    </div>
                </div>
                <ng-template #Else>
                    <p style="color:black;font-size: 15px;margin-left:110px;margin-top:20px">
                        No followers found
                    </p>
                </ng-template>
            </div>
        </div>
    </div>
</div>



<!-- Following Modal -->
<div class="modal fade" id="basicExampleModal1" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <p  style="color:black;font-size: 18px;font-weight: bold;margin-left:135px"class="modal-title">Followings</p>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
            <div class="modal-body">
                <div class="like-modal" *ngIf="followings?.length > 0; else Else">
                    <div *ngFor="let following of followings" class="widget-body1">
                        <div class="latest-post-aside media">
                            <div class="lpa-left media-body" style="margin-top:5px">
                                
                                    <div class="profile_pic1"><img src="{{following.followed_user.profile.profile_picture}}" alt=""><a href="/user/{{following.followed_user.username}}"><span style="font-size: 12px;font-weight: bold;margin-left:5px;white-space: nowrap;width: 71px;">{{following.followed_user.username}}</span></a></div>
                            </div>
                            <div class="lpa-right" style="margin-top:15px;margin-left: 130px;">
                                <a (click)="unfollowUser(LoggedUser.id,following.followed_user.id)" class="btn btn-primary btn-sm" style="color:white;padding-left: 10px;padding-right: 10px;"><span class="icofont-reply"> Unfollow</span></a>
                            </div>
                        </div>
                    </div>
                </div>
                <ng-template #Else>
                    <p style="color:black;font-size: 15px;margin-left:110px;margin-top:20px">
                        No followings found
                    </p>
                </ng-template>
            </div>
        </div>
    </div>
</div>